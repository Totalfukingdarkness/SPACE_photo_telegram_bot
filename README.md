# Космический Телеграм

С помощью проекта можно получить изображения запусков SPACE X, а так же изображений космоса и земли сделаных NASA.

## Как установить

Python3 должен быть уже установлен.
Использовать версию 3.10 или ниже. С версиями выше есть конфликт у python-telegram-bot.
Затем используйте `pip` (или `pip3`, есть есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```
Для публикации фото потребуется создать [телеграмм канал](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/).

## Переменные окружения

Требуется создать файл `.env` и прописать переменные окружения:

- `NASA_TOKEN` - Нужен для подключения к базе данных с фото. Можно сгенерировать на сайте [NASA](https://api.nasa.gov/#epic)
- `TG_TOKEN` - Нужен для взаимодействия с ботом. Можно получить у [Отца Ботов](https://telegram.me/BotFather)
- `TG_CHAT_ID` - Нужен для отправки фото в Телеграмм канал. [Инструкция](https://lumpics.ru/how-find-out-chat-id-in-telegram/) по получению.
- `TIME` - отвечает за переодичность времени публикации фото в телеграмм канал. Необязательное значение, тк по умолчанию стоит 14400 секунд (4 часа)
- `DIRECTORY_PATH` - отвечает за путь до папки, в которую будут сохранятся изображения. Так же из указанной папки будут братся изображения для публикации в телеграмм канале. Необязательное значение, тк по умолчанию создаст папку `image`.

## Запуск

### fetch_spacex_images.py

Скачивает картинки запуска ракет. По умолчанию скачивает запуск последней ракеты.

Полученое изображение сохраняется в папке `DIRECTORY_PATH`

Запуск просиходит при помощи команды в терминале:
```
python fetch_spacex_images.py
```
 
### fetch_nasa_apod.py

Скачивает случайный снимок из космоса. Полученый файл сохраняется в директории указанной в `DIRECTORY_PATH`

Запуск просиходит при помощи команды в терминале:
```
python fetch_nasa_apod.py
```

### fetch_nasa_epic.py

Скачивает снимок земли. Полученый файл сохраняется в директории указанной в `DIRECTORY_PATH`

Запуск просиходит при помощи команды в терминале:
```
python fetch_nasa_epic.py
```

### send_one_photo_tg.py

Публикует случайную картинку из директории `DIRECTORY_PATH`. 

Запуск просиходит при помощи команды в терминале:
```
python send_one_photo_tg.py
```

### send_regular_photo.py

Запускает регулярную публикацию файлов из директории `DIRECTORY_PATH` с переодичностью указанной в `TIME`, по умолчанию указанно 4 часа.

Запуск просиходит при помощи команды в терминале:
```
python send_regular_photo.py
```
